<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мини-футбол для двух игроков</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1a5e1a, #0d3d0d);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            color: white;
        }
        
        .game-container {
            position: relative;
            width: 800px;
            height: 500px;
            background: #2a8a2a;
            border: 5px solid #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            overflow: hidden;
        }
        
        .field {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        /* Разметка поля */
        .center-line {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: #fff;
            opacity: 0.7;
        }
        
        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border: 2px solid #fff;
            border-radius: 50%;
            opacity: 0.7;
        }
        
        .center-spot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: #fff;
            border-radius: 50%;
        }
        
        .goal-left, .goal-right {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 10px;
            height: 100px;
            background: #fff;
        }
        
        .goal-left {
            left: 0;
        }
        
        .goal-right {
            right: 0;
        }
        
        .goal-area-left, .goal-area-right {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 150px;
            border: 2px solid #fff;
            opacity: 0.7;
        }
        
        .goal-area-left {
            left: 0;
            border-right: none;
        }
        
        .goal-area-right {
            right: 0;
            border-left: none;
        }
        
        /* Игроки и мяч */
        .player {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            transition: transform 0.1s;
            z-index: 10;
        }
        
        .player-1 {
            background: #ff5252;
            box-shadow: 0 0 10px rgba(255, 82, 82, 0.7);
            left: 100px;
            top: 50%;
        }
        
        .player-2 {
            background: #2196f3;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.7);
            right: 100px;
            top: 50%;
        }
        
        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #fff;
            border-radius: 50%;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.7);
            z-index: 5;
        }
        
        /* Счет */
        .score {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 28px;
            color: #fff;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 15px;
            border-radius: 20px;
        }
        
        /* Управление */
        .controls {
            position: absolute;
            bottom: 10px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            color: #fff;
            font-size: 14px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .controls div {
            text-align: center;
            padding: 5px 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }
        
        /* Анимация гола */
        @keyframes goalAnimation {
            0% { background-color: #2a8a2a; }
            50% { background-color: #ffeb3b; }
            100% { background-color: #2a8a2a; }
        }
        
        .goal-scored {
            animation: goalAnimation 0.5s ease 3;
        }
        
        /* Сообщение о голе */
        .goal-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 40px;
            font-weight: bold;
            color: #fff;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.7);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 20;
        }
        
        .show-message {
            opacity: 1;
        }
        
        /* Инструкция */
        .instructions {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 10px;
            max-width: 90%;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="field">
            <div class="center-line"></div>
            <div class="center-circle"></div>
            <div class="center-spot"></div>
            <div class="goal-left"></div>
            <div class="goal-right"></div>
            <div class="goal-area-left"></div>
            <div class="goal-area-right"></div>
            
            <div class="player player-1"></div>
            <div class="player player-2"></div>
            <div class="ball"></div>
            
            <div class="score">0 : 0</div>
            <div class="goal-message">ГОЛ!</div>
            
            <div class="controls">
                <div>Игрок 1 (красный): WASD</div>
                <div>Игрок 2 (синий): Стрелки</div>
            </div>
            
            <div class="instructions">
                Забейте мяч в ворота противника! Игроки могут перемещаться по всему полю.
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const player1 = document.querySelector('.player-1');
            const player2 = document.querySelector('.player-2');
            const ball = document.querySelector('.ball');
            const scoreDisplay = document.querySelector('.score');
            const field = document.querySelector('.field');
            const goalMessage = document.querySelector('.goal-message');
            
            // Начальные позиции
            let player1Pos = { x: 100, y: 250 };
            let player2Pos = { x: 700, y: 250 };
            let ballPos = { x: 400, y: 250 };
            let ballVelocity = { x: 0, y: 0 };
            
            // Счет
            let score = { player1: 0, player2: 0 };
            
            // Клавиши
            const keys = {
                w: false, a: false, s: false, d: false,
                arrowUp: false, arrowLeft: false, arrowDown: false, arrowRight: false
            };
            
            // Скорость игроков
            const playerSpeed = 5;
            
            // Обновление позиций
            function updatePositions() {
                // Движение игрока 1 - может перемещаться по всему полю
                if (keys.w && player1Pos.y > 15) player1Pos.y -= playerSpeed;
                if (keys.s && player1Pos.y < 485) player1Pos.y += playerSpeed;
                if (keys.a && player1Pos.x > 15) player1Pos.x -= playerSpeed;
                if (keys.d && player1Pos.x < 785) player1Pos.x += playerSpeed;
                
                // Движение игрока 2 - может перемещаться по всему полю
                if (keys.arrowUp && player2Pos.y > 15) player2Pos.y -= playerSpeed;
                if (keys.arrowDown && player2Pos.y < 485) player2Pos.y += playerSpeed;
                if (keys.arrowLeft && player2Pos.x > 15) player2Pos.x -= playerSpeed;
                if (keys.arrowRight && player2Pos.x < 785) player2Pos.x += playerSpeed;
                
                // Применение позиций
                player1.style.left = player1Pos.x + 'px';
                player1.style.top = player1Pos.y + 'px';
                
                player2.style.left = player2Pos.x + 'px';
                player2.style.top = player2Pos.y + 'px';
                
                // Движение мяча
                ballPos.x += ballVelocity.x;
                ballPos.y += ballVelocity.y;
                
                // Замедление мяча
                ballVelocity.x *= 0.98;
                ballVelocity.y *= 0.98;
                
                // Отскок от границ поля (стен)
                if (ballPos.x <= 10) {
                    ballPos.x = 10;
                    ballVelocity.x = -ballVelocity.x * 0.8;
                } else if (ballPos.x >= 790) {
                    ballPos.x = 790;
                    ballVelocity.x = -ballVelocity.x * 0.8;
                }
                
                if (ballPos.y <= 10) {
                    ballPos.y = 10;
                    ballVelocity.y = -ballVelocity.y * 0.8;
                } else if (ballPos.y >= 490) {
                    ballPos.y = 490;
                    ballVelocity.y = -ballVelocity.y * 0.8;
                }
                
                // Проверка на гол
                if (ballPos.x <= 10 && ballPos.y >= 200 && ballPos.y <= 300) {
                    // Гол в левые ворота
                    score.player2++;
                    showGoalMessage("ГОЛ СИНИХ!");
                    resetAfterGoal();
                } else if (ballPos.x >= 790 && ballPos.y >= 200 && ballPos.y <= 300) {
                    // Гол в правые ворота
                    score.player1++;
                    showGoalMessage("ГОЛ КРАСНЫХ!");
                    resetAfterGoal();
                }
                
                // Применение позиции мяча
                ball.style.left = ballPos.x + 'px';
                ball.style.top = ballPos.y + 'px';
                
                // Проверка столкновений с игроками
                checkCollision(player1Pos, 15, 1);
                checkCollision(player2Pos, 15, 2);
                
                // Обновление счета
                scoreDisplay.textContent = `${score.player1} : ${score.player2}`;
            }
            
            // Показать сообщение о голе
            function showGoalMessage(message) {
                goalMessage.textContent = message;
                goalMessage.classList.add('show-message');
                setTimeout(() => {
                    goalMessage.classList.remove('show-message');
                }, 2000);
            }
            
            // Проверка столкновения с мячом
            function checkCollision(playerPos, playerRadius, playerNumber) {
                const dx = ballPos.x - playerPos.x;
                const dy = ballPos.y - playerPos.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance < playerRadius + 10) {
                    // Угол отскока
                    const angle = Math.atan2(dy, dx);
                    
                    // Сила удара зависит от скорости игрока
                    const power = 7;
                    
                    ballVelocity.x = Math.cos(angle) * power;
                    ballVelocity.y = Math.sin(angle) * power;
                    
                    // Слегка сдвигаем мяч, чтобы избежать залипания
                    ballPos.x += Math.cos(angle) * 5;
                    ballPos.y += Math.sin(angle) * 5;
                    
                    // Добавляем небольшой эффект при ударе
                    if (playerNumber === 1) {
                        player1.style.transform = 'scale(1.2)';
                        setTimeout(() => {
                            player1.style.transform = 'scale(1)';
                        }, 100);
                    } else {
                        player2.style.transform = 'scale(1.2)';
                        setTimeout(() => {
                            player2.style.transform = 'scale(1)';
                        }, 100);
                    }
                }
            }
            
            // Сброс после гола
            function resetAfterGoal() {
                // Анимация гола
                field.classList.add('goal-scored');
                setTimeout(() => {
                    field.classList.remove('goal-scored');
                }, 1500);
                
                // Сброс позиций
                player1Pos = { x: 200, y: 250 };
                player2Pos = { x: 600, y: 250 };
                ballPos = { x: 400, y: 250 };
                ballVelocity = { x: 0, y: 0 };
            }
            
            // Обработчики клавиш
            document.addEventListener('keydown', function(e) {
                if (e.key === 'w' || e.key === 'W') keys.w = true;
                if (e.key === 'a' || e.key === 'A') keys.a = true;
                if (e.key === 's' || e.key === 'S') keys.s = true;
                if (e.key === 'd' || e.key === 'D') keys.d = true;
                if (e.key === 'ArrowUp') keys.arrowUp = true;
                if (e.key === 'ArrowLeft') keys.arrowLeft = true;
                if (e.key === 'ArrowDown') keys.arrowDown = true;
                if (e.key === 'ArrowRight') keys.arrowRight = true;
                
                // Предотвращаем прокрутку страницы при использовании стрелок
                if(['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                    e.preventDefault();
                }
            });
            
            document.addEventListener('keyup', function(e) {
                if (e.key === 'w' || e.key === 'W') keys.w = false;
                if (e.key === 'a' || e.key === 'A') keys.a = false;
                if (e.key === 's' || e.key === 'S') keys.s = false;
                if (e.key === 'd' || e.key === 'D') keys.d = false;
                if (e.key === 'ArrowUp') keys.arrowUp = false;
                if (e.key === 'ArrowLeft') keys.arrowLeft = false;
                if (e.key === 'ArrowDown') keys.arrowDown = false;
                if (e.key === 'ArrowRight') keys.arrowRight = false;
            });
            
            // Игровой цикл
            function gameLoop() {
                updatePositions();
                requestAnimationFrame(gameLoop);
            }
            
            // Запуск игры
            gameLoop();
        });
    </script>
</body>
</html>